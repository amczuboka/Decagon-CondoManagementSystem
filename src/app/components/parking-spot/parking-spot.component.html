<table mat-table [dataSource]="fakeParkingSpots" class="mat-elevation-z8">
  <!-- Define the columns -->
  <ng-container matColumnDef="Parking">
    <th mat-header-cell *matHeaderCellDef>Parking</th>
    <td mat-cell *matCellDef="let parking">{{ parking.Number }}</td>
  </ng-container>

  <ng-container matColumnDef="Type">
    <th mat-header-cell *matHeaderCellDef>Type</th>
    <td mat-cell *matCellDef="let parking">{{ parking.ParkingType }}</td>
  </ng-container>

  <ng-container matColumnDef="OccupantID">
    <th mat-header-cell *matHeaderCellDef>Occupant ID</th>
    <td mat-cell *matCellDef="let parking">
      <div class="user">
        <img [src]="users[parking.OccupantID].ProfilePicture" alt="Avatar" />
        {{ users[parking.OccupantID].FirstName }}
        {{ users[parking.OccupantID].LastName }}
      </div>
    </td>
  </ng-container>

  <ng-container matColumnDef="Fee">
    <th mat-header-cell *matHeaderCellDef>Fee</th>
    <td mat-cell *matCellDef="let parking">${{ parking.Fee }}</td>
  </ng-container>

  <ng-container matColumnDef="Status">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let parking">
      <ng-container *ngIf="authority == 'Company'">
        <div
          class="status-indicator"
          [ngClass]="{
            available: parking.Status === 'Available',
            unavailable: parking.Status === 'Unavailable'
          }"
        >
          {{ parking.Status }}
        </div>
      </ng-container>
      <ng-container *ngIf="authority == 'Public'">
        <div class="request">Request for Rent</div>
      </ng-container>
    </td>
  </ng-container>

  <!-- Assign the column definitions to the table -->
  <tr
    mat-header-row
    *matHeaderRowDef="
      authority == 'Company'
        ? ['Parking', 'Type', 'OccupantID', 'Fee', 'Status']
        : ['Parking', 'Type', 'Fee', 'Status']
    "
  ></tr>
  <tr
    mat-row
    *matRowDef="
      let row;
      columns: authority == 'Company'
        ? ['Parking', 'Type', 'OccupantID', 'Fee', 'Status']
        : ['Parking', 'Type', 'Fee', 'Status'];
      let i = index
    "
    [class.even-row]="i % 2 === 0"
  ></tr>
</table>
